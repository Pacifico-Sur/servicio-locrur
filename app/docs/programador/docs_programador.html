<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles.css">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <title></title>
</head>

<body>
    <div>
        <h1>Servicio de Información y Conocimiento de Localidades Rurales</h1>
        <main>
            <section id="#introduccion">
                <h2>
                    Documentación para el programdor
                </h2>

                <p>
                    El servicio de información y conocimiento de localidades rurales (SICLR) es una aplicación que está
                    hecha en <tt>PHP</tt>, que se usa para la vista y para el controlador. Existen también archivos
                    <tt>JavaScript</tt>, los cuales sirven para dar interactividad
                    a la aplicación a medida que el usuario está navegando dentro de ella. Finalmente, hay archivos
                    <tt>CSS</tt> que le dan el estilo a la aplicación.
                </p>
                <p>Enseguida se muestra la estructura de la aplicación y la descripción de cada uno de sus archivos y
                    componentes.</p>

                <ul id="myUL">
                    <li><span class="caret">ApiControl/</span>
                        <ul class="nested">
                            <li><b>ApiControl.php</b></li>
                            <li>ApiMain.php</li>
                            <li>ApiMapa.php</li>
                            <li><b>ApiSelect.php</b></li>
                            <li><b>ApiServicioMap.php</b></li>
                            <li>ApiSessionSecurity.php</li>
                            <li>index.php</li>
                            <li>Router.php</li>
                        </ul>
                    </li>
                    <li><span class="caret">assets/</span>
                        <ul class="nested">
                            <li>jquery-1.9.1.min.js</li>
                            <li>nicepage.css</li>
                            <li>nicepage.js</li>
                        </ul>
                    </li>
                    <li><span class="caret">Autoload/</span>
                        <ul class="nested">
                            <li>Autoload.php</li>
                        </ul>
                    </li>
                    <li><span class="caret">css-geo/</span>
                        <ul class="nested">
                            <li>font-awesome/</li>
                            <li>plugins/</li>
                        </ul>
                    </li>
                    <li><span class="caret">Database/</span>
                        <ul class="nested">
                            <li><b>Database.php</b></li>
                        </ul>
                    </li>
                    <li><span class="caret">docs/</span>
                        <ul class="nested">
                            <li><span class="caret">programador/</span>
                                <ul class="nested">
                                    <li>docs_programador.html</li>
                                </ul>
                            </li>
                            <li><span class="caret">usuario/</span>
                                <ul class="nested">
                                    <li>docs_usuario.html</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><span class="caret">footable/*</span>
                        <ul class="nested">
                            <li>Item/</li>
                            <li>Item/</li>
                        </ul>
                    </li>
                    <li><span class="caret">images/*</span>
                        <ul class="nested">
                            <li>Item</li>
                            <li>Item</li>
                        </ul>
                    </li>
                    <li><span class="caret">img/</span>
                        <ul class="nested">
                            <li>invalido.png</li>
                            <li>valido.png</li>
                        </ul>
                    </li>
                    <li><span class="caret">js-geo/</span>
                        <ul class="nested">
                            <li><span class="caret">modules</span>
                                <ul class="nested">
                                    <li>inicio.js</li>
                                    <li><b>select.js</b></li>
                                    <li><b>servicioMap.js</b></li>
                                </ul>
                            </li>
                            <li><span class="caret">plugins/*</span>
                        </ul>
                    </li>
                    <li><span class="caret">mapa/*</span>
                        <ul class="nested">
                            <li>Item</li>
                            <li>Item</li>
                        </ul>
                    </li>
                    <li><span class="caret">modules/*</span>
                        <ul class="nested">
                            <li>Item</li>
                            <li>Item</li>
                        </ul>
                    </li>
                    <li><span class="caret">php-getting-started/*</span>
                        <ul class="nested">
                            <li>Item</li>
                            <li>Item</li>
                        </ul>
                    </li>
                    <li><span class="caret">access-config.php</span></li>
                    <li><span class="caret">block.php</span></li>
                    <li><span class="caret">composer.json</span></li>
                    <li><span class="caret">Database.php</span></li>
                    <li><span class="caret"><b>footer.php</b></span></li>
                    <li><span class="caret"><b>header.php</b></span></li>
                    <li><span class="caret">index.php</span></li>
                    <li><span class="caret">info.php</span></li>
                    <li><span class="caret">LICENSE</span></li>
                    <li><span class="caret"><b>README.md</b></span></li>
                    <li><span class="caret"><b>select.php</b></span></li>
                    <li><span class="caret"><b>servicio-map.php</b></span></li>
                </ul>

                <div>
                    <p>El SICLR cuenta con dos opciones o formas de acceso a la información y descarga de datos: opción
                        1, de búsqueda por localidad, y opción 2, de búsqueda por territorio o tipo de tenencia de la
                        tierra.
                    </p>
                    <p>
                        En ambas opciones, el usuario accede a la información a través de un formulario en donde, en los
                        primeros dos elementos, el usuario debe escoger el estado y municipio de interés. Después de
                        eso, la aplicación muestra distintos modos de acceso a la información.
                    </p>
                </div>
            </section>

            <hr>
            <div>
                <section id="#opcion-1">
                    <h2>1. Búsqueda por localidades</h2>

                    <p>El siguiente diagrama muestra los archivos relacionados para la opción 1 del SICLR.</p>

                    <img id="imagenes" src="./imgs/diagrama-opcion-1.png" alt="Diagrama opción 1 del servicio"
                        style="width:500px;height:300px;">
                    <figcaption>Fig.1 - Esquema de la interacción de los scripts para la opción 1.</figcaption>

                    <p>
                        El archivo <tt>select.php</tt> es el que se encarga de la vista de la opción 1 (Fig 2). En la
                        vista se pueden ver los elementos del formualario como son: Estado, Municipio, Localidad, Tema,
                        Año de consulta, Subtema e Indicadores. Una vez que el usuario realizó la selección de interés,
                        dará click al botón <i>Ver indicadores</i> y posteriormente podrá dar click al botón
                        <i>Exportar</i>.
                    </p>

                    <img src="./imgs/vista_general_opcion_1.png" alt="Vista general de la opción 1"
                        style="width:500px;height:300px;">
                    <figcaption>Fig.2 - Vista general de la opción 1, creada por el archivo select.php.</figcaption>

                    <hr width="50%" size="50">

                    <div>
                        <h3>1.1 Inicialización de la aplicación</h3>

                        <p>
                            Cuando la aplicación inicializa se ejecuta la función <tt>init</tt>. Esta función se
                            encuentra en el archivo <tt>footer.php</tt> y en la función
                            <tt>js-geo/modules/select.js</tt>
                        </p>
                        <p>
                            La función <tt>init</tt>, en el archivo <tt>foooter.php</tt>, usa la función
                            <tt>bindTheme</tt>, que tiene interaccin con:

                        <ul>
                            <li>
                                <tt>btnThemes</tt>. Esta función se encarga de ponerle estilo a los botones cuando el
                                usuario da click a cada uno de ellos.
                            </li>
                            <li>
                                <tt>btnSalir</tt>. Esta función fue creada en el caso futuro de que exista una página de
                                inicio donde el usuario pueda iniciar sesión (<i>log in</i>) en el servicio.
                            </li>
                            <li><tt>themeSelect</tt>. <b>Esta aún no sé qué hace.</b></li>
                        </ul>


                        </p>
                        <p>
                            La función <tt>init</tt> dentro del archivo <tt>js-geo/modules/select.js</tt> usa las
                            funciones <tt>initAlterData()</tt> y <tt>bindFilters()</tt>.
                        </p>
                        <p>
                            La función <tt>initAlterData()</tt> se usa para inicializar todas las variables que se usan
                            en cada uno de los elementos del formulario y realiza la llamada a la BD con la función
                            <tt>apiCall</tt>.
                        </p>
                        <p>
                            La función <tt>bindFilters()</tt> se usa para ir filtrando los valores de interés, a medida
                            que el
                            usuario está interactuando con el formulario. Esta función utiliza a su vez las funciones
                            de: <tt>changeEstado()</tt>, <tt>changeAnio()</tt>, <tt>changeTema()</tt>,
                            <tt>changeSubtema()</tt>, <tt>checkAllIndicadores()</tt> y <tt>checkAllIndicadoresVar()</tt>
                            para estar realizando los cambios de valores (desde la base de datos) cuando el usuario
                            realiza una selección o realiza un cambio de selección; también utiliza la función
                            <tt>buscarRes()</tt>, que se encarga de realizar la búsqueda de los valores de interés
                            cuando el usuario da click al botón <i>Ver indicadores</i>.
                        </p>

                        <hr width="50%" size="50">
                    </div>

                    <div>
                        <h3>1.2 Casilla <b>Estado</b></h3>

                        <p>
                            Cuando el usuario interatúa con la casilla de <b>Estado</b> la función encargada de esta
                            interacción es <tt>changeEstado</tt>. Esta función recibe, desde la base de datos, el ID del
                            estado que se está seleccionando para hacer el cambio. Cuando la aplicación se inicializa en
                            primera instancia o cuando está seleccionado <i>Selecciona una opción</i>, la casilla de
                            Municipio está deshabilitada.
                        </p>
                        <hr width="50%" size="50">
                    </div>

                    <div>
                        <h3>1.3 Casilla de <b>Municipio</b></h3>

                        <p>
                            Cuando el usuario interatúa con la casilla de <b>Municipio</b> la función encargada de esta
                            interacción es <tt>selectMunicipio</tt>. Esta función es utilizada dentro de la función
                            <tt>changeEstado</tt> y recibe como argumento de entrada el ID del estado seleccionado. De
                            esta forma realiza el filtrado de los municipios del estado para mostrar en la lista
                            desplegable. Cuando la aplicación se inicializa en primera instancia o cuando está
                            seleccionado <i>Selecciona una opción</i>, la casilla de Municipio está deshabilitada.
                        </p>
                        <hr width="50%" size="50">
                    </div>

                    <div>
                        <h3>1.4 Casilla de <b>Localidad</b></h3>

                        <p>
                            Cuando el usuario interactúa con la casilla de <tt>Localidad</tt> la función encargada de
                            esta interacción es <tt>selectLocalidad</tt>. Esta función es utilizada dentro de la función
                            <tt>selectMunicipio</tt>. Recibe como argumento de entrada el ID del municipio seleccionado
                            por el usuario. De esta forma, realiza el filtrado de todas las localidades que pertenecen
                            al municipio de interés. En este momento, esta función selecciona por defecto todas las
                            localidades filtradas.
                        </p>
                        <hr width="50%" size="50">
                    </div>

                    <div>
                        <h3>1.5 Casilla de <b>Tema</b></h3>

                        <p>
                            Cuando la aplicación inicializa, la función que trabaja es <tt>selectTema</tt>. Esta función crea una lista de todos los temas de la BD y los muestra en la casilla en forma de lista desplegable. Cuando el usuario interactúa con la casilla y realiza un cambio de tema, la función que realiza esta interacción es <tt>changeTema</tt>. Esta función captura la selección del usuario. Si la selección es uno de los 8 factores, la casilla de subtema muestra el subtema relacionado al tema seleccionado; si la selección del subtema es <b>Desarrollo Local</b>, la casilla de <b>Subtema</b> se activa para mostrar las 12 opciones de este tema.
                        </p>
                        <hr width="50%" size="50">
                    </div>

                    <div>
                        <h3>1.5 Casilla de <b>Año</b></h3>

                        <p>
                            Cuando la aplicación inicializa, la función que trabaja es <tt>changeAnio</tt>. Esta función utiliza inmediatamente la función <tt>selectSubtema</tt>, que muestra por defecto el factor 2 y el subtema asociado a este factor.
                        </p>
                        <hr width="50%" size="50">
                    </div>

                    <div>
                        <h3>1.6 Tema Desarrollo Local</h3>

                        <p>EL tema de Desarrollo Local tiene 13 subtemas. Cuando el usuario escoge el subtema de
                            <tt>Problema
                                Principal, 2020</tt>, se muestra una tabla con los posibles problemas principales
                            declarados
                            por
                            el usuario. Esta interacción ocurre en la función <tt>buscarRes</tt> del archivo
                            <tt>select.js</tt>;
                            en ese archivo existe una condicional (<tt>if (choice_tab == "desarrollo_local")</tt>, en la
                            cual,
                            si el usuario escoge el tema <tt>Desarrollo Local</tt> y el subtema <tt>Problema principal,
                                2020</tt>, se muestar la tabla.
                        </p>
                    </div>
                </section>
            </div>

            <hr>
            <section id="#opcion-2">
                <h2>Opción 2 del SICLR</h2>

                <p>El siguiente diagrama muestra los archivos relacionados para la opción 2 del SICLR</p>

                <img src="./imgs/diagrama-opcion-2.png" alt="Diagrama opción 2 del servicio"
                    style="width:700px;height:400px;">
            </section>

        </main>
        <hr>
        <footer>
            <p>Copyright @2022 | Designed by CentroGeo</p>
        </footer>
    </div>
</body>

</html>